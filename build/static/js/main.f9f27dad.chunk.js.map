{"version":3,"sources":["components/UserInfo.jsx","components/templates/Input.jsx","components/templates/Button.jsx","components/forms/ForgotForm.jsx","components/templates/ButtonWithIcon.jsx","api/api.js","redux/user-reducer.js","redux/auth-reducer.js","components/forms/SignInForm.jsx","components/forms/SignUpForm.jsx","components/LoginPage.jsx","App.js","redux/store.js","index.js"],"names":["ContainerDiv","styled","div","Row","InfoDiv","UserInfo","props","user","useSelector","state","alt","width","src","firstName","lastName","phone","skype","stasiNote","StyledInput","input","Input","StyledButton","button","variant","Button","children","MainDiv","StyledForm","form","SignUpP","span","ForgotForm","useState","email","setEmail","placeholder","value","onChange","e","target","type","onClick","onCurrentFormChange","Icon","img","ButtonWithIcon","iconUrl","instance","axios","baseURL","headers","authAPI","password","post","usersAPI","token","get","SET_USER_DATA","initialState","setUserData","getUser","dispatch","a","response","data","result","avatar","console","log","message","authReducer","action","SET_TOKEN","SET_FETCHING","SET_ERROR","isFetching","errorMessage","setFetching","setError","login","error","interceptors","request","use","req","Authorization","ForgotSpan","LineDiv","LoaderImg","ErrorMessageSpan","SignInForm","pass","setPass","auth","useDispatch","history","useHistory","handleSubmit","preventDefault","push","onSubmit","length","PrivacySpan","SignUpForm","confirmPass","setConfirmPass","LoginPage","currentForm","setCurrentForm","formType","LeftImg","RightImg","App","exact","path","render","reducers","combineReducers","usersReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f9f27dad.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst ContainerDiv = styled.div`\r\n    padding: 35px 47px;\r\n    max-width:420px;\r\n    width:100%;\r\n    @media screen and (max-width: 580px){\r\n        width:auto;\r\n    }\r\n    height:auto;\r\n    margin:0 auto;\r\n    color:white;\r\n    background: rgb(23, 24, 34);\r\n    border:2px solid rgb(255, 255, 255, 0.03);\r\n    border-radius:12px;\r\n    z-index:100;\r\n    h2{\r\n        text-align:center;\r\n    }\r\n`\r\n\r\nconst Row = styled.div`\r\n    display:flex;\r\n`\r\n\r\nconst InfoDiv = styled.div`\r\n    margin-left:30px;\r\n    font-size:18px;\r\n    p{\r\n        margin:5px 0px;\r\n    }\r\n`\r\n\r\nconst UserInfo = props => {\r\n    const user = useSelector(state => state.user.user);\r\n\r\n    return (\r\n        <ContainerDiv>\r\n            <Row>\r\n                <img alt=\"avatar\" width=\"140\" src=\"https://www.englishpatient.org/english-patient-files/acc8cfe3-58d0-4cab-bba7-6a61747c0456.jpg\"/>\r\n                <InfoDiv>\r\n                    <div>{user.firstName + \" \" + user.lastName}</div>\r\n                    <p>Телефон: {user.phone}</p>\r\n                    <p>Skype: {user.skype}</p><br/>\r\n                    <p>{user.stasiNote}</p>\r\n                </InfoDiv>\r\n            </Row>\r\n        </ContainerDiv>\r\n    )\r\n}\r\n\r\nexport default UserInfo;","import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst StyledInput = styled.input`\r\n    font-size:17px;\r\n    padding-left:25px;\r\n    color:white;\r\n    border-radius:6px;\r\n    box-sizing:border-box;\r\n    border:2px solid rgb(41,43,53);\r\n    background:rgb(33,35,48);\r\n    height:50px;\r\n    width:100%;\r\n    font-weight:bold;\r\n    :focus{\r\n        outline:none;\r\n    }\r\n`\r\n\r\nconst Input = props => {\r\n    return (\r\n        <StyledInput { ...props } />\r\n    )\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst StyledButton = styled.button`\r\n    outline:none;\r\n    border:none;\r\n    width:100%;\r\n    height: 50px;\r\n    margin-top:8px;\r\n    background: ${props => props.variant === 'danger' ? 'rgb(234, 82, 61);' : 'rgb(255, 172, 48);'} ;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    opacity: 1;\r\n    color: white;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    -webkit-box-pack: center;\r\n    justify-content: center;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    :hover{\r\n        opacity:0.8;\r\n    }\r\n`\r\n\r\nconst Button = props => {\r\n    return (\r\n        <StyledButton { ...props }>\r\n            {props.children}\r\n        </StyledButton>\r\n    )\r\n}\r\n\r\nexport default Button;","import React, { useState } from 'react';\r\nimport Input from '../templates/Input';\r\nimport Button from '../templates/Button';\r\n\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst MainDiv = styled.div`\r\n    padding: 35px 47px;\r\n    max-width:420px;\r\n    width:100%;\r\n    @media screen and (max-width: 580px){\r\n        width:auto;\r\n    }\r\n    height:auto;\r\n    margin:0 auto;\r\n    color:white;\r\n    background: rgb(23, 24, 34);\r\n    border:2px solid rgb(255, 255, 255, 0.03);\r\n    border-radius:12px;\r\n    z-index:100;\r\n    h2{\r\n        text-align:center;\r\n    }\r\n`\r\n\r\nconst StyledForm = styled.form`\r\n    p{\r\n        font-size:16px;\r\n        color:rgb(123,127,158);\r\n        margin:14px 0;\r\n    }\r\n`\r\nconst SignUpP = styled.span`\r\n    display:block;\r\n    margin-top:20px;\r\n    color: white;\r\n    text-align: center;\r\n    font-weight: 100;\r\n    font-size: 16px;\r\n    letter-spacing:0.3px;\r\n    span{\r\n        font-weight:bold;\r\n        :hover{\r\n            opacity: 0.75;\r\n            cursor:pointer;\r\n        }\r\n    }\r\n`\r\n\r\nconst ForgotForm = props => {\r\n    const [email, setEmail] = useState('');\r\n\r\n    return (\r\n        <MainDiv>\r\n            <h2>Recover password</h2>\r\n            <StyledForm>\r\n                <p>Email</p>\r\n                <Input placeholder=\"Your E-Mail\" value={email} onChange={e => setEmail(e.target.value)} type=\"email\"></Input>\r\n                <Button variant=\"danger\">Recover</Button>\r\n            </StyledForm>\r\n            <SignUpP><span onClick={() => props.onCurrentFormChange('signin')}>Back</span></SignUpP>\r\n        </MainDiv>\r\n    )\r\n}\r\n\r\nexport default ForgotForm;","import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst StyledButton = styled.button`\r\n    padding: 8px 10px;\r\n    outline:none;\r\n    background:transparent;\r\n    color: rgb(255, 255, 255);\r\n    font-size: 13px;\r\n    border: 1px solid rgb(255, 255, 255);\r\n    border-radius: 5px;\r\n    position: relative;\r\n    display:flex;\r\n    align-items:center;\r\n    flex: 1 1 0%;\r\n    justify-content:space-between;\r\n    :hover{\r\n        background-color: rgba(255, 255, 255, 0.15);\r\n        cursor: pointer;\r\n        transition: all 0.25s ease 0s;\r\n    }\r\n`\r\n\r\nconst Icon = styled.img`\r\n    height: 20px;\r\n    width: 20px;\r\n`\r\n\r\nconst ButtonWithIcon = props => {\r\n    return (\r\n        <StyledButton { ...props }>\r\n            <span>{props.children}</span>\r\n            <Icon src={props.iconUrl}/>\r\n        </StyledButton>\r\n    )\r\n}\r\n\r\nexport default ButtonWithIcon;","import * as axios from 'axios';\r\n\r\nexport const instance = axios.create({\r\n    baseURL: \" https://api.englishpatient.org\",\r\n    headers:{\r\n        'Content-Type':'application/json'\r\n    }\r\n})\r\n\r\nexport const authAPI = {\r\n    login(email, password) {\r\n        return instance.post(`/login`, {email, password})\r\n    },\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUser(token){\r\n        return instance.get(`/me?token=${token}`)\r\n    },\r\n}","import { usersAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"user/SET_USER_DATA\"\r\n\r\nlet initialState = {\r\n    user:null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        }\r\n        default:\r\n            return state; \r\n    }\r\n}\r\n\r\nexport const setUserData = user => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        user\r\n    }\r\n}\r\n\r\nexport const getUser = (token) => {\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.getUser(token);\r\n        if(response.data.result){\r\n            let user = response.data.result.user;\r\n            \r\n            dispatch(setUserData({\r\n                firstName: user.firstName,\r\n                lastName: user.lastName,\r\n                avatar: user.avatar,\r\n                phone: user.phone,\r\n                skype: user.skype,\r\n                stasiNote: user.stasiNote\r\n            }))\r\n        }else{\r\n            console.log(response.data.message);\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { authAPI, instance } from \"../api/api\";\r\nimport { getUser } from \"./user-reducer\";\r\n\r\nconst SET_TOKEN = \"auth/SET_TOKEN\"\r\nconst SET_FETCHING = \"auth/SET_FETCHING\"\r\nconst SET_ERROR = \"auth/SET_ERROR\"\r\n\r\nlet initialState = {\r\n    token: null,\r\n    isFetching: false,\r\n    errorMessage: \"\"\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case SET_TOKEN: {\r\n            return {\r\n                ...state,\r\n                token: action.token\r\n            }\r\n        }\r\n        case SET_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case SET_ERROR: {\r\n            return {\r\n                ...state,\r\n                errorMessage: action.errorMessage\r\n            }\r\n        }\r\n        default:\r\n            return state; \r\n    }\r\n}\r\n\r\nexport const setToken = token => {\r\n    return {\r\n        type: SET_TOKEN,\r\n        token\r\n    }\r\n}\r\n\r\nexport const setFetching = isFetching => {\r\n    return {\r\n        type: SET_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\n\r\nexport const setError = errorMessage => {\r\n    return {\r\n        type: SET_ERROR,\r\n        errorMessage\r\n    }\r\n}\r\n\r\nexport const login = (email, password) => {\r\n    return async (dispatch) => {\r\n        try{\r\n            dispatch(setFetching(true))\r\n            let response = await authAPI.login(email, password);\r\n            if(response.data.error){\r\n                dispatch(setError(response.data.error.message))\r\n                dispatch(setFetching(false))\r\n                return false;\r\n            }else{\r\n                instance.interceptors.request.use(req => {\r\n                    req.headers.Authorization = response.data.token;\r\n                    return req;\r\n                })\r\n                dispatch(setToken(response.data.token))\r\n                dispatch(getUser(response.data.token))\r\n                dispatch(setFetching(false))\r\n                return true;\r\n            }\r\n        }catch(e){\r\n            dispatch(setError(e))\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport default authReducer;","import React, { useState } from 'react';\r\nimport Input from '../templates/Input';\r\nimport Button from '../templates/Button';\r\nimport ButtonWithIcon from '../templates/ButtonWithIcon';\r\n\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst MainDiv = styled.div`\r\n    padding: 35px 47px;\r\n    max-width:420px;\r\n    width:100%;\r\n    @media screen and (max-width: 580px){\r\n        width:auto;\r\n    }\r\n    height:auto;\r\n    margin:0 auto;\r\n    color:white;\r\n    background: rgb(23, 24, 34);\r\n    border:2px solid rgb(255, 255, 255, 0.03);\r\n    border-radius:12px;\r\n    z-index:100;\r\n    h2{\r\n        text-align:center;\r\n    }\r\n`\r\n\r\nconst StyledForm = styled.form`\r\n    p{\r\n        font-size:16px;\r\n        color:rgb(123,127,158);\r\n        margin:14px 0;\r\n    }\r\n`\r\nconst ForgotSpan = styled.span`\r\n    color:rgb(0, 163, 171);\r\n    text-align:right;\r\n    display:block;\r\n    margin:6px 0px;\r\n    :hover{\r\n        opacity:0.9;\r\n        cursor:pointer;\r\n    }\r\n`\r\n\r\nconst SignUpP = styled.span`\r\n    display:block;\r\n    margin-top:20px;\r\n    color: white;\r\n    text-align: center;\r\n    font-weight: 100;\r\n    font-size: 16px;\r\n    letter-spacing:0.3px;\r\n    span{\r\n        font-weight:bold;\r\n        :hover{\r\n            opacity: 0.75;\r\n            cursor:pointer;\r\n        }\r\n    }\r\n`\r\nconst Row = styled.div`\r\n    margin-top:50px;\r\n    display:flex;\r\n    justify-content:space-between;\r\n    padding-bottom:10px;\r\n    gap:20px;\r\n`\r\n\r\nconst LineDiv = styled.div`\r\n    width:100%;\r\n    border-top:1px solid rgb(84, 84, 84);;\r\n    margin:20px 0;\r\n    border-radius:3px;\r\n    display:flex;\r\n    justify-content:center;\r\n    span{\r\n        background:rgb(23, 24, 34);\r\n        text-align:center;\r\n        font-size:15px;\r\n        width:40px;\r\n        margin-top:-9px;\r\n        color:rgb(84, 84, 84);\r\n    }\r\n`\r\n\r\nconst LoaderImg = styled.img`\r\n    -ms-interpolation-mode:bicubic;\r\n    width:20px;\r\n`\r\n\r\nconst ErrorMessageSpan = styled.span`\r\n    display:block;\r\n    text-align:center;\r\n    color:red;\r\n    font-size:16px;\r\n`\r\n\r\nconst SignInForm = props => {\r\n    const [email, setEmail] = useState('');\r\n    const [pass, setPass] = useState('');\r\n\r\n    const isFetching = useSelector(state => state.auth.isFetching);\r\n    const errorMessage = useSelector(state => state.auth.errorMessage);\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        const response = await dispatch(login(email, pass));\r\n        if(response) history.push(\"/user\");\r\n        else{\r\n            setEmail(\"\");\r\n            setPass(\"\");\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <MainDiv>\r\n            <h2>Sign In</h2>\r\n            <Row>\r\n                <ButtonWithIcon iconUrl=\"https://my.subtitles.love/static/media/bt_icon_face.8550be43.svg\">Continue with Facebook</ButtonWithIcon>\r\n                <ButtonWithIcon iconUrl=\"https://my.subtitles.love/static/media/bt_icon_google.a677a569.svg\">Continue with Google</ButtonWithIcon>\r\n            </Row>\r\n\r\n            <LineDiv>\r\n                <span>or</span>\r\n            </LineDiv>\r\n\r\n            <StyledForm onSubmit={ handleSubmit }>\r\n                <p>Email</p>\r\n                <Input value={email} onChange={e => setEmail(e.target.value)} type=\"email\"></Input>\r\n                <p>Password</p>\r\n                <Input value={pass} onChange={e => setPass(e.target.value)} type=\"password\"></Input> \r\n                <ForgotSpan onClick={() => props.onCurrentFormChange('forgot')}>Forgot password</ForgotSpan>\r\n\r\n                <ErrorMessageSpan>\r\n                    { errorMessage.length ? errorMessage : \"\" }\r\n                </ErrorMessageSpan>\r\n\r\n                <Button type=\"submit\">\r\n                    { isFetching ? <LoaderImg src=\"https://i.stack.imgur.com/qq8AE.gif\"/> : \"Login\"}\r\n                </Button>\r\n            </StyledForm>\r\n            <SignUpP onClick={() => props.onCurrentFormChange('signup')}>Don't have an account? <span>Sign Up</span></SignUpP>\r\n        </MainDiv>\r\n    )\r\n}\r\n\r\nexport default SignInForm;","import React, { useState } from 'react';\r\nimport Input from '../templates/Input';\r\nimport Button from '../templates/Button';\r\n\r\nimport styled from 'styled-components';\r\nimport ButtonWithIcon from '../templates/ButtonWithIcon';\r\n\r\n\r\nconst MainDiv = styled.div`\r\n    padding: 35px 47px;\r\n    max-width:420px;\r\n    width:100%;\r\n    @media screen and (max-width: 580px){\r\n        width:auto;\r\n    }\r\n    height:auto;\r\n    margin:0 auto;\r\n    color:white;\r\n    background: rgb(23, 24, 34);\r\n    border:2px solid rgb(255, 255, 255, 0.03);\r\n    border-radius:12px;\r\n    z-index:100;\r\n    h2{\r\n        text-align:center;\r\n    }\r\n`\r\n\r\nconst StyledForm = styled.form`\r\n    p{\r\n        font-size:16px;\r\n        color:rgb(123,127,158);\r\n        margin:14px 0;\r\n    }\r\n`\r\nconst SignUpP = styled.span`\r\n    display:block;\r\n    margin-top:20px;\r\n    color: white;\r\n    text-align: center;\r\n    font-weight: 100;\r\n    font-size: 16px;\r\n    letter-spacing:0.3px;\r\n    span{\r\n        font-weight:bold;\r\n        :hover{\r\n            opacity: 0.75;\r\n            cursor:pointer;\r\n        }\r\n    }\r\n`\r\nconst PrivacySpan = styled.span`\r\n    display:block;\r\n    width: 100%;\r\n    text-align: center;\r\n    color: rgb(255, 252, 252);\r\n    opacity: 0.75;\r\n    font-size: 12px;\r\n    margin-bottom: 15px;\r\n    margin-top: 15px;\r\n    span{\r\n        color: rgb(1, 163, 171);\r\n        cursor:pointer;\r\n        text-decoration:underline\r\n    }\r\n`\r\nconst Row = styled.div`\r\n    margin-top:50px;\r\n    display:flex;\r\n    justify-content:space-between;\r\n    padding-bottom:10px;\r\n    gap:20px;\r\n`\r\n\r\nconst LineDiv = styled.div`\r\n    width:100%;\r\n    border-top:1px solid rgb(84, 84, 84);;\r\n    margin:20px 0;\r\n    border-radius:3px;\r\n    display:flex;\r\n    justify-content:center;\r\n    span{\r\n        background:rgb(23, 24, 34);\r\n        text-align:center;\r\n        font-size:15px;\r\n        width:40px;\r\n        margin-top:-9px;\r\n        color:rgb(84, 84, 84);\r\n    }\r\n`\r\n\r\nconst SignUpForm = props => {\r\n    const [email, setEmail] = useState('');\r\n    const [pass, setPass] = useState('');\r\n    const [confirmPass, setConfirmPass] = useState('');\r\n\r\n    return (\r\n        <MainDiv>\r\n            <h2>Sign Up</h2>\r\n\r\n            <Row>\r\n                <ButtonWithIcon iconUrl=\"https://my.subtitles.love/static/media/bt_icon_face.8550be43.svg\">Continue with Facebook</ButtonWithIcon>\r\n                <ButtonWithIcon iconUrl=\"https://my.subtitles.love/static/media/bt_icon_google.a677a569.svg\">Continue with Google</ButtonWithIcon>\r\n            </Row>\r\n\r\n            <LineDiv>\r\n                <span>or</span>\r\n            </LineDiv>\r\n\r\n            <StyledForm>\r\n                <p>Email</p>\r\n                <Input value={email} onChange={e => setEmail(e.target.value)} type=\"email\"></Input>\r\n                <p>Password</p>\r\n                <Input value={pass} onChange={e => setPass(e.target.value)} type=\"password\" placeholder=\"7 or more symbols\"></Input> \r\n                <p>Confirm password</p>\r\n                <Input value={confirmPass} onChange={e => setConfirmPass(e.target.value)} type=\"password\" placeholder=\"7 or more symbols\"></Input> \r\n                <PrivacySpan>By submitting this form I agree to the <span>Privacy Policy</span></PrivacySpan>\r\n                <Button>Get started!</Button>\r\n            </StyledForm>\r\n            <SignUpP>have an account? <span onClick={() => props.onCurrentFormChange('signin')}>Sign In</span></SignUpP>\r\n        </MainDiv>\r\n    )\r\n}\r\n\r\nexport default SignUpForm;","import React, { useState } from 'react';\r\nimport ForgotForm from './forms/ForgotForm';\r\nimport SignInForm from './forms/SignInForm';\r\nimport SignUpForm from './forms/SignUpForm';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst ContainerDiv = styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    -webkit-box-pack: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: 100vh;\r\n    box-sizing: border-box;\r\n`\r\n\r\nconst LoginPage = props => {\r\n    const [currentForm, setCurrentForm] = useState(props.currentForm || 'signin');\r\n    \r\n    return (\r\n        <ContainerDiv>\r\n            {\r\n                currentForm === 'signin' ? <SignInForm onCurrentFormChange={formType => setCurrentForm(formType) }/>\r\n                : currentForm === 'signup' ? <SignUpForm onCurrentFormChange={formType => setCurrentForm(formType) } />\r\n                : currentForm === 'forgot' ? <ForgotForm onCurrentFormChange={formType => setCurrentForm(formType) } /> \r\n                : <SignInForm onCurrentFormChange={formType => setCurrentForm(formType) }/>\r\n            }\r\n        </ContainerDiv>\r\n    )\r\n}\r\n\r\nexport default LoginPage;","import './App.css';\n\nimport styled from 'styled-components';\nimport { Route } from 'react-router-dom';\nimport UserInfo from './components/UserInfo';\nimport LoginPage from './components/LoginPage';\nimport { useSelector } from 'react-redux';\n\nconst ContainerDiv = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    -webkit-box-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    justify-content: center;\n    background: rgb(24, 25, 35);\n    width: 100%;\n    height: 100vh;\n    box-sizing: border-box;\n`\n\nconst LeftImg = styled.img`\n    position: fixed;\n    left: 0px;\n    bottom: 0px;\n    top: 0px;\n`\n\nconst RightImg = styled.img`\n    position: fixed;\n    right: 0px;\n    bottom: 0px;\n    top: 0px;\n`\n\nfunction App() {\n    const user = useSelector(state => state.user.user);\n\n    return (\n        <ContainerDiv>\n            <LeftImg src=\"https://my.subtitles.love/static/media/login_scr_left.6cb41681.svg\" />\n            <RightImg src=\"https://my.subtitles.love/static/media/login_scr_right.745716da.svg\" />\n\n            <Route exact path=\"/\" render={() => <LoginPage currentForm=\"signin\" />} />\n            <Route exact path=\"/user\" render={() => user ? <UserInfo /> : <LoginPage currentForm=\"signin\" />} />\n        </ContainerDiv>\n    );\n}\n\nexport default App;\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport authReducer from './auth-reducer';\r\nimport usersReducer from './user-reducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    user: usersReducer,\r\n    auth: authReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport store from './redux/store'\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={ store }>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  \n  document.getElementById('root')\n);"],"sourceRoot":""}